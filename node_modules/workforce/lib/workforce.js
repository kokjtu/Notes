
/**
 * Deps.
 */

var fs = require('fs')
  , manager = require('./manager');

/**
 * Expose `Manager` as the main module.
 */

exports = module.exports = manager;

/**
 * Expose plugins to be lazily initialized.
 *
 * Attribution -- learnboost/cluster:
 * https://github.com/LearnBoost/cluster/blob/master/lib/cluster.js#L45
 */

fs.readdirSync(__dirname + '/plugins').forEach(function(plugin){
  plugin = plugin.replace('.js', '');
  exports.__defineGetter__(plugin, function(){
    return require('./plugins/' + plugin);
  });
});